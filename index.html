<!DOCTYPE html>
<html lang="pl">
<head>
    <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KSSXRMKH');
  </script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5307701268996147"
     crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-5307701268996147">
  <title>Travel Rules ‚Äì vanlife tips, checklists & saved spots (iOS)</title>
  <meta name="description" content="Travel Rules to darmowa aplikacja iOS dla vanlife: codzienne zasady, checklisty i zapisy ulubionych miejsc. Dostƒôpna po polsku, angielsku i hiszpa≈Ñsku.">
  <meta name="theme-color" content="#29606D">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Travel Rules">
  <meta property="og:title" content="Travel Rules ‚Äì vanlife tips, checklists & saved spots (iOS)">
  <meta property="og:description" content="Codzienne zasady, checklisty i zapisy miejsc. Aplikacja iOS dla vanlife.">
  <meta property="og:image" content="images/og/travelrules_og.jpg">
  <meta property="og:url" content="https://www.travelrules.eu/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Travel Rules ‚Äì vanlife tips, checklists & saved spots (iOS)">
  <meta name="twitter:description" content="Codzienne zasady, checklisty i zapisy miejsc. Aplikacja iOS dla vanlife.">
  <meta name="twitter:image" content="images/og/travelrules_og.jpg">
  <link rel="icon" href="/favicon.ico">

  <!-- ‚úÖ JSON-LD przeniesiony do prawid≈Çowego <head> -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Travel Rules",
    "applicationCategory": "TravelApplication",
    "operatingSystem": "iOS",
    "inLanguage": ["pl", "en", "es"],
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "PLN",
      "category": "Free",
      "availability": "https://schema.org/InStock"
    },
    "url": "https://www.travelrules.eu/",
    "downloadUrl": "https://apps.apple.com/pl/app/travel-rules/id6451070215?l=pl",
    "publisher": {"@type": "Organization", "name": "Travel Rules"}
  }
  </script>

  <style>
    /* Header CTA visibility and focus states */
    .header-cta { display:none; }
    @media (min-width: 769px){ .header-cta { display:inline-flex; } }
    .header-cta:focus { outline: 2px solid var(--color-secondary); outline-offset: 2px; }
    :focus { outline: 2px solid var(--color-secondary); outline-offset: 2px; }

    /* Styl dla rozwijalnego kontenera */
    .collapsible-container {
      border: 1px solid #ccc;
      border-radius: 5px;
      margin: 40px auto;
      max-width: 1200px;
      overflow: hidden;
    }
    .collapsible-header {
      background-color: var(--color-primary);
      color: var(--color-bg);
      padding: 15px;
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
    }
    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      padding: 0 20px;
      background-color: #fafafa;
      transition: max-height 0.5s ease;
    }
    .collapsible-content.show {
      max-height: none;
      padding: 20px;
    }
    .collapsible-header::after {
      content: "‚ñ∂";
      margin-left: 10px;
      transition: transform 0.3s ease;
      display: inline-block;
    }
    .collapsible-header[aria-expanded="true"]::after {
      transform: rotate(90deg);
    }
    /* Dark mode dla rozwijalnego kontenera */
    body.dark-mode .collapsible-container {
      border-color: #444;
    }
    body.dark-mode .collapsible-content {
      background-color: var(--color-card-background);
      color: var(--color-text-primary);
    }

    /* RESET STYL√ìW */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* P≈ÅYNNE PRZEWIJANIE DO ZAKOTWICZE≈É */
    html {
      scroll-behavior: smooth;
    }

    /* USTAWIENIA PODSTAWOWEGO FONTU */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
        Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      transition: background-color 1s, color 1s;
    }

    /* ========== MOTYWY JASNE ========== */

    /* THEME CLASSIC */
    body.theme-classic {
      --color-primary: #29606D;
      --color-secondary: #DDAA4F;
      --color-accent: #00a8ff;
      --color-bg: #ffffff;
      --color-text-primary: #1A1A1A;
      --color-text-secondary: #666666;
      --color-card-background: rgba(255, 255, 255, 0.95);
      --color-card-shadow: rgba(0, 0, 0, 0.1);
      --color-overlay: rgba(0, 0, 0, 0.4);
      --color-success: #4CAF50;
      --color-warning: #FFC107;
      --color-error: #FF5252;
      --color-button-highlight: rgba(255, 255, 255, 0.2);
      background-color: var(--color-bg);
      color: var(--color-text-primary);
    }

    /* THEME MOUNTAIN */
    body.theme-mountain {
      --color-primary: #2B4C7E;
      --color-secondary: #738FA7;
      --color-accent: #A8C6FA;
      --color-bg: #ffffff; 
      --color-text-primary: #1A1A1A;
      --color-text-secondary: #666666;
      --color-card-background: rgba(255, 255, 255, 0.95);
      --color-card-shadow: rgba(0, 0, 0, 0.1);
      --color-overlay: rgba(0, 0, 0, 0.4);
      --color-success: #4CAF50;
      --color-warning: #FFC107;
      --color-error: #FF5252;
      --color-button-highlight: rgba(255, 255, 255, 0.2);
      background-color: var(--color-bg);
      color: var(--color-text-primary);
    }

    /* THEME BEACH */
    body.theme-beach {
      --color-primary: #1B6C8A;
      --color-secondary: #e8723f;
      --color-accent: #FFD166;
      --color-bg: #ffffff;
      --color-text-primary: #1A1A1A;
      --color-text-secondary: #4E4E4E;
      --color-card-background: rgba(255, 255, 255, 0.9);
      --color-card-shadow: rgba(0, 0, 0, 0.2);
      --color-overlay: rgba(0, 0, 0, 0.3);
      --color-success: #48A999;
      --color-warning: #FF9F1C;
      --color-error: #D7263D;
      --color-button-highlight: rgba(255, 255, 255, 0.25);
      background-color: var(--color-bg);
      color: var(--color-text-primary);
    }

    /* THEME DESERT */
    body.theme-desert {
      --color-primary: #C19A6B;
      --color-secondary: #FFB347;
      --color-accent: #CD853F;
      --color-bg: #ffffff;
      --color-text-primary: #1A1A1A;
      --color-text-secondary: #666666;
      --color-card-background: rgba(255, 255, 255, 0.95);
      --color-card-shadow: rgba(0, 0, 0, 0.1);
      --color-overlay: rgba(0, 0, 0, 0.4);
      --color-success: #4CAF50;
      --color-warning: #FFC107;
      --color-error: #FF5252;
      --color-button-highlight: rgba(255, 255, 255, 0.2);
      background-color: var(--color-bg);
      color: var(--color-text-primary);
    }

    /* THEME FOREST */
    body.theme-forest {
      --color-primary: #2E8B57;
      --color-secondary: #4CAF50;
      --color-accent: #556B2F;
      --color-bg: #ffffff;
      --color-text-primary: #1A1A1A;
      --color-text-secondary: #666666;
      --color-card-background: rgba(255, 255, 255, 0.95);
      --color-card-shadow: rgba(0, 0, 0, 0.1);
      --color-overlay: rgba(0, 0, 0, 0.4);
      --color-success: #4CAF50;
      --color-warning: #FFC107;
      --color-error: #FF5252;
      --color-button-highlight: rgba(255, 255, 255, 0.2);
      background-color: var(--color-bg);
      color: var(--color-text-primary);
    }

    /* ========== DARK MODE DLA KA≈ªDEGO MOTYWU ========== */

    /* CLASSIC DARK */
    body.theme-classic.dark-mode {
      --color-bg: #1a1a1a;
      --color-text-primary: #f0f0f0;
      --color-text-secondary: #cccccc;
      --color-card-background: #2a2a2a;
    }

    /* MOUNTAIN DARK */
    body.theme-mountain.dark-mode {
      --color-bg: #121212;
      --color-text-primary: #fafafa;
      --color-text-secondary: #cccccc;
      --color-card-background: #2e2e2e;
    }

    /* BEACH DARK */
    body.theme-beach.dark-mode {
      --color-bg: #131313;
      --color-text-primary: #f7f7f7;
      --color-text-secondary: #d0d0d0;
      --color-card-background: #2b2b2b;
    }

    /* DESERT DARK */
    body.theme-desert.dark-mode {
      --color-bg: #1c1c1c;
      --color-text-primary: #f5f5f5;
      --color-text-secondary: #c9c9c9;
      --color-card-background: #2c2c2c;
    }

    /* FOREST DARK */
    body.theme-forest.dark-mode {
      --color-bg: #141414;
      --color-text-primary: #eeeeee;
      --color-text-secondary: #cccccc;
      --color-card-background: #252525;
    }

    /* Dodatkowe ustawienia hero-text w trybie ciemnym */
    body.dark-mode .hero-text {
      background-color: rgba(255, 255, 255, 0.1);
      color: var(--color-text-primary);
    }

    body.dark-mode .hero-text a {
      background-color: var(--color-text-primary);
      color: var(--color-bg);
      transition: background-color 0.3s;
    }
    body.dark-mode .hero-text a:hover {
      background-color: var(--color-secondary);
    }

    /* NAG≈Å√ìWEK */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 40px;
      position: sticky;
      top: 0;
      z-index: 10;
      background-color: var(--color-bg);
      border-bottom: 1px solid #e2e2e2;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 600;
      text-decoration: none;
      color: var(--color-text-primary);
    }

    /* ========== MENU ========== */
    nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }

    nav a {
      text-decoration: none;
      color: var(--color-text-primary);
      font-weight: 500;
      transition: opacity 0.3s;
    }

    nav a:hover {
      opacity: 0.7;
    }

    /* PRZE≈ÅƒÑCZNIKI (motyw, jƒôzyk, tryb ciemny/jasny) */
    .header-extra {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .header-extra label,
    .header-extra select {
      font-size: 1rem;
    }

    .dark-toggle {
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
    }

    /* IKONA HAMBURGER */
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      color: var(--color-text-primary);
      font-size: 1.8rem;
      cursor: pointer;
    }

    /* ‚úÖ Ikonki motywu domy≈õlnie ukryte (poka≈ºemy je na mobile w media query) */
    .theme-icons { display: none; }

    /* SEKCJA HERO (‚úÖ t≈Ço g√≥ry + overlay) */
    .hero {
      position: relative;
      width: 100%;
      height: 100vh;
      background: url("images/decor/mountains.png") no-repeat center center/cover;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    @media (min-width: 769px) {
      .hero { background-attachment: fixed; }
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.55));
      pointer-events: none;
    }

    .hero > * { position: relative; z-index: 1; }

    .hero-text {
      text-align: center;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 40px 60px;
      border-radius: 10px;
      max-width: 600px;
      color: var(--color-text-primary);
      transition: background-color 0.3s, color 0.3s;

      /* ‚úÖ efekt ‚Äûglass‚Äù */
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      border: 1px solid rgba(255, 255, 255, 0.35);
    }

    .hero-text h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      font-weight: 700;
    }

    .hero-text p {
      font-size: 1.25rem;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .hero-text a {
      display: inline-block;
      background-color: var(--color-primary);
      color: #fff;
      padding: 15px 30px;
      font-size: 1rem;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s;
    }

    .hero-text a:hover {
      background-color: var(--color-secondary);
    }

    /* SEKCJA (SECTION) */
    .section {
      width: 100%;
      max-width: 1200px;
      margin: 80px auto;
      padding: 0 20px;
      text-align: center;
    }

    .section h2 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      font-weight: 700;
      color: var(--color-text-primary);
    }

    .section p {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 40px;
      color: var(--color-text-secondary);
    }

    /* ‚úÖ Dekoracyjne t≈Ço (mapa ≈õwiata) w sekcjach */
    .section.map-watermark {
      position: relative;
      overflow: hidden;
    }
    .section.map-watermark > * {
      position: relative;
      z-index: 1;
    }
    .section.map-watermark .decor-map {
      position: absolute;
      top: -80px;
      left: 50%;
      transform: translateX(-50%);
      width: 1200px;
      max-width: 140%;
      height: auto;
      opacity: 0.08;
      filter: saturate(0) contrast(1.05);
      z-index: 0;
      pointer-events: none;
      user-select: none;
    }
    body.dark-mode .section.map-watermark .decor-map {
      opacity: 0.10;
      filter: invert(1) brightness(1.15) contrast(1.05);
    }

    /* ‚úÖ Dekoracyjny divider (grafika pe≈Çnej szeroko≈õci) */
    .visual-divider {
      width: 100%;
      height: 280px;
      margin: 70px 0;
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      position: relative;
      border-top: 1px solid rgba(0,0,0,0.06);
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }
    body.dark-mode .visual-divider {
      border-top-color: rgba(255,255,255,0.10);
      border-bottom-color: rgba(255,255,255,0.10);
    }
    .visual-divider::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,0.10), rgba(0,0,0,0.15));
      pointer-events: none;
    }
    .visual-divider--boat {
      background-image: url("images/decor/boat.png");
    }
    @media (prefers-reduced-motion: no-preference) {
      .visual-divider--boat {
        animation: trDrift 18s ease-in-out infinite;
      }
    }
    @keyframes trDrift {
      0%   { background-position: 50% 45%; }
      50%  { background-position: 52% 50%; }
      100% { background-position: 50% 45%; }
    }

    /* FUNKCJE (cards) */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    /* ANIMACJA POJAWIANIA SIƒò */
    .feature-box {
      background-color: var(--color-card-background);
      padding: 40px 20px;
      border-radius: 10px;
      box-shadow: 0 10px 20px var(--color-card-shadow);
      transition: box-shadow 0.3s, transform 0.6s, opacity 0.6s;
      opacity: 0;
      transform: scale(0.95);
    }

    .feature-box.in-view {
      opacity: 1;
      transform: scale(1);
    }

    .feature-box:hover {
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }

    .feature-box h3 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      font-weight: 600;
      color: var(--color-primary);
    }

    .feature-box p {
      color: var(--color-text-secondary);
      line-height: 1.5;
    }

    /* ZRZUTY EKRANU */
    .screenshots {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
    }

    .screenshots img {
      width: 300px;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }

    .screenshots img:hover {
      transform: scale(1.05);
    }

    /* AKTUALNO≈öCI */
    .updates {
      text-align: left;
      margin-top: 40px;
      background-color: #fafafa;
      padding: 40px;
      border-radius: 10px;
    }

    .updates h3 {
      font-size: 1.8rem;
      margin-bottom: 15px;
      font-weight: 600;
      color: var(--color-primary);
    }

    .updates p {
      color: var(--color-text-secondary);
      line-height: 1.6;
      margin-bottom: 15px;
    }

    /* SEKCJA EXTENDED */
    .extended {
      text-align: left;
      margin-top: 40px;
      background-color: #eef7ff;
      padding: 40px;
      border-radius: 10px;
    }

    .extended h3 {
      font-size: 1.8rem;
      margin-bottom: 15px;
      font-weight: 600;
      color: var(--color-primary);
    }

    .extended ul {
      list-style: none;
      padding: 0;
      margin: 20px 0;
    }

    .extended li {
      font-size: 1.1rem;
      margin-bottom: 10px;
      color: var(--color-text-secondary);
    }

    .extended li:before {
      content: "\2022";
      color: var(--color-secondary);
      display: inline-block;
      width: 1em;
      margin-left: -1em;
    }

    /* CTA */
    .cta {
      background-color: var(--color-primary);
      color: #fff;
      padding: 80px 0;
      text-align: center;
    }

    .cta h2 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      font-weight: 700;
    }

    .cta p {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 40px;
      color: #fff;
    }

    .cta a {
      display: inline-block;
      color: #fff;
      padding: 15px 30px;
      font-size: 1rem;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s;
    }

    /* STOPKA */
    footer {
      text-align: center;
      padding: 40px 20px;
      background-color: var(--color-bg);
      border-top: 1px solid #e2e2e2;
      margin-top: 80px;
    }

    footer p {
      margin-bottom: 10px;
      color: var(--color-text-secondary);
    }

    /* RESPONSYWNO≈öƒÜ */
    @media screen and (max-width: 768px) {
      .header-extra {
        gap: 10px;
      }

      /* hamburger widoczny */
      .menu-toggle {
        display: block;
      }

      /* HAMBURGER ‚Äì po klikniƒôciu .show-menu pokazuje dropdown na ≈õrodku */
      nav ul {
        display: none;           /* domy≈õlnie ukryte */
        flex-direction: column;
        align-items: center;     /* wy≈õrodkowanie w poziomie */
        background: var(--color-bg);
        position: absolute;
        top: 80px;
        left: 50%;               /* przesuniƒôcie w poziomie do po≈Çowy ekranu */
        transform: translateX(-50%) translateY(-10px);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        opacity: 0;
        transition: opacity 0.3s ease, transform 0.3s ease;
      }

      nav ul.show-menu {
        display: flex; 
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      /* Zastƒôpujemy dropdown jƒôzyka flagami (tylko w stylu) */
      .header-extra #languageSelect {
        display: none; /* ukrywamy select */
      }
      .lang-flags {
        display: flex;
        gap: 8px;
      }
      .lang-flags img {
        width: 25px;
        height: 25px;
        cursor: pointer;
      }

      /* Zastƒôpujemy dropdown motywu ikonami (mobil) */
      .theme-selector {
        display: none;
      }
      .theme-icons {
        display: flex;
        gap: 8px;
      }
      .theme-icons img {
        width: 25px;
        height: 25px;
        cursor: pointer;
      }

      .visual-divider { height: 220px; margin: 50px 0; }
      .section.map-watermark .decor-map { top: -40px; opacity: 0.07; }
    }

    @media screen and (max-width: 480px) {
      .hero-text h1 {
        font-size: 2.5rem;
      }

      .hero-text p {
        font-size: 1rem;
      }

      .feature-box h3 {
        font-size: 1.5rem;
      }

      .feature-box p {
        font-size: 0.9rem;
      }

      .updates h3, .extended h3 {
        font-size: 1.5rem;
      }

      .cta h2 {
        font-size: 2rem;
      }

      .cta p {
        font-size: 1rem;
      }
    }

    /* LINKI (social + sklepy) */
    .links-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
      margin-top: 28px;
      text-align: left;
    }

    .link-card {
      display: flex;
      gap: 14px;
      align-items: flex-start;
      padding: 18px;
      border-radius: 14px;
      background: var(--color-card-background);
      box-shadow: 0 10px 20px var(--color-card-shadow);
      text-decoration: none;
      color: var(--color-text-primary);
      border: 1px solid rgba(0,0,0,0.06);
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }

    body.dark-mode .link-card {
      border-color: rgba(255,255,255,0.10);
    }

    .link-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 26px rgba(0,0,0,0.14);
    }

    .link-card:focus {
      outline: 2px solid var(--color-secondary);
      outline-offset: 3px;
    }

    .link-icon {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.05);
      color: var(--color-primary);
      flex: 0 0 44px;
    }

    body.dark-mode .link-icon {
      background: rgba(255,255,255,0.06);
    }

    .link-title {
      font-weight: 700;
      font-size: 1.05rem;
      margin-bottom: 4px;
    }

    .link-desc {
      color: var(--color-text-secondary);
      line-height: 1.4;
      font-size: 0.98rem;
      margin-bottom: 6px;
    }

    .link-url {
      font-size: 0.9rem;
      opacity: 0.75;
    }

    .links-note {
      margin-top: 14px;
      color: var(--color-text-secondary);
      opacity: 0.9;
    }

    @media screen and (max-width: 480px) {
      .link-card { padding: 16px; }
      .link-icon { width: 40px; height: 40px; flex: 0 0 40px; border-radius: 12px; }
    }

    /* Ikonki emoji ‚Äì prosta stylizacja */
    .flag-emoji, .theme-emoji {
      font-size: 1.5rem;
      cursor: pointer;
      margin: 0 5px;
      transition: transform 0.2s;
    }

    .flag-emoji:hover, .theme-emoji:hover {
      transform: scale(1.2);
    }
  </style>
</head>

<body class="theme-classic">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KSSXRMKH"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <!-- NAG≈Å√ìWEK -->
  <header>
    <a href="#" class="logo" data-lang-key="logo">Travel Rules</a>

    <!-- HAMBURGER -->
    <button class="menu-toggle" id="menuToggle" aria-label="Otw√≥rz menu" aria-controls="primaryNav" aria-expanded="false">&#9776;</button>

    <nav role="navigation" aria-label="G≈Ç√≥wne">
      <ul id="primaryNav">
        <li><a href="#app" data-lang-key="about">O Aplikacji</a></li>
        <li><a href="#features" data-lang-key="features">Funkcje</a></li>
        <li><a href="#updates" data-lang-key="updates">Aktualno≈õci</a></li>
        <li><a href="linki.html" data-lang-key="links">Linki</a></li>
        <li><a href="#contact" data-lang-key="contact">Kontakt</a></li>
        <li><a href="#cta" data-lang-key="download">Pobierz</a></li>
      </ul>
    </nav>

    <a class="header-cta" href="https://apps.apple.com/pl/app/travel-rules/id6451070215?l=pl" style="display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:8px;background:var(--color-primary);color:#fff;text-decoration:none;font-weight:600;">
      <span data-lang-key="download">Pobierz</span>
    </a>

    <div class="header-extra">
      <!-- Wyb√≥r motywu (desktop) -->
      <select class="theme-selector" id="themeSelect">
        <option value="classic">Classic</option>
        <option value="mountain">Mountain</option>
        <option value="beach">Beach</option>
        <option value="desert">Desert</option>
        <option value="forest">Forest</option>
      </select>

      <!-- Zastƒôpcze ikony motyw√≥w (mobil) -->
      <div class="theme-icons">
        <img src="https://via.placeholder.com/25/29606D" data-theme="classic" alt="Classic">
        <img src="https://via.placeholder.com/25/2B4C7E" data-theme="mountain" alt="Mountain">
        <img src="https://via.placeholder.com/25/1B6C8A" data-theme="beach" alt="Beach">
        <img src="https://via.placeholder.com/25/C19A6B" data-theme="desert" alt="Desert">
        <img src="https://via.placeholder.com/25/2E8B57" data-theme="forest" alt="Forest">
      </div>

      <!-- Ikony flag (mobil / desktop) -->
      <div class="lang-flags">
        <span class="flag-emoji" data-lang="pl">üáµüá±</span>
        <span class="flag-emoji" data-lang="en">üá¨üáß</span>
        <span class="flag-emoji" data-lang="es">üá™üá∏</span>
      </div>

      <!-- Prze≈ÇƒÖcznik ciemny/jasny -->
      <div class="dark-toggle">
        <label for="darkModeToggle" data-lang-key="dark_mode" aria-live="polite">Tryb ciemny</label>
        <input type="checkbox" id="darkModeToggle">
      </div>
    </div>
  </header>

  <!-- SEKCJA HERO -->
  <section class="hero">
    <div class="hero-text">
      <h1 data-lang-key="hero_title">Travel Rules</h1>
      <p data-lang-key="hero_subtitle">Twoje codzienne ≈∫r√≥d≈Ço inspiracji i praktycznych wskaz√≥wek.</p>
      <div class="hero-ctas" style="display:flex;flex-direction:column;align-items:center;gap:16px;">
        <a href="https://apps.apple.com/pl/app/travel-rules/id6451070215?l=pl" aria-label="Pobierz w App Store" style="display:inline-block;margin-top:10px;">
          <img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/pl-pl?size=150x50&releaseDate=1684790400" alt="Pobierz w App Store" width="150" height="50">
        </a>

        <div style="text-align:center">
          <a href="#app" data-lang-key="learn_more" style="display:inline-block;background-color: var(--color-primary); color:#fff; padding:15px 24px; border-radius:8px; text-decoration:none;">Dowiedz siƒô wiƒôcej</a>
        </div>
      </div>
    </div>
  </section>

  <!-- SEKCJA "O APLIKACJI" (‚úÖ watermark mapa) -->
  <section id="app" class="section map-watermark">
    <img class="decor-map" src="images/decor/world-map.png" alt="" aria-hidden="true" loading="lazy">
    <h2 data-lang-key="about_title">Travel Rules</h2>
    <p data-lang-key="about_text">Aplikacja, dziƒôki kt√≥rej odkryjesz uroki vanlife w zupe≈Çnie nowy spos√≥b. Codzienne zasady, checklista podr√≥≈ºna, spo≈Çeczno≈õƒá i wiele wiƒôcej ‚Äì wszystko w eleganckim, minimalistycznym wydaniu.</p>
  </section>

  <!-- SEKCJA AKTUALNO≈öCI -->
  <section id="updates" class="section">
    <h2 data-lang-key="updates_title">Aktualno≈õci</h2>
    <div id="appstore-updates" class="updates" style="background-color: var(--color-card-background); color: var(--color-text-primary);">
      <p style="opacity:.7">≈Åadowanie informacji z App Store‚Ä¶</p>
    </div>
  </section>

  <!-- ‚úÖ DEKORACYJNY DIVIDER (≈Ç√≥dka) -->
  <section class="visual-divider visual-divider--boat" aria-hidden="true"></section>

  <!-- SEKCJA ROZSZERZONYCH FUNKCJI -->
  <section id="extended" class="section">
    <h2 data-lang-key="extended_title">Rozszerzone Funkcje</h2>
    <div class="extended" style="background-color: var(--color-card-background); color: var(--color-text-primary);">
      <ul>
        <li>
          <strong data-lang-key="extended_loc_title">Zapisywanie lokalizacji:</strong>
          <span data-lang-key="extended_loc_text">Mo≈ºna teraz zapisywaƒá i ≈Çatwo znajdowaƒá zapisane lokalizacje na mapie. Mo≈ºliwo≈õƒá otwierania lokalizacji w Mapach Google i Mapach Apple.</span>
        </li>
        <li>
          <strong data-lang-key="extended_rules_title">Nowe zasady podr√≥≈ºy:</strong>
          <span data-lang-key="extended_rules_text">Dodano wiƒôcej zasad i poprawiono ich organizacjƒô, aby by≈Çy jeszcze bardziej przydatne.</span>
        </li>
        <li>
          <strong data-lang-key="extended_achievements_title">System osiƒÖgniƒôƒá:</strong>
          <span data-lang-key="extended_achievements_text">Mo≈ºesz teraz zbieraƒá osiƒÖgniƒôcia za korzystanie z aplikacji, takie jak ‚ÄûRegularny podr√≥≈ºnik‚Äù i ‚ÄûMistrz konsekwencji‚Äù.</span>
        </li>
        <li>
          <strong data-lang-key="extended_emergency_title">Numery alarmowe dla r√≥≈ºnych kraj√≥w:</strong>
          <span data-lang-key="extended_emergency_text">Aplikacja automatycznie rozpoznaje kraj i wy≈õwietla odpowiednie numery alarmowe oraz przydatne linki.</span>
        </li>
        <li>
          <strong data-lang-key="extended_packing_title">Lista rzeczy do spakowania:</strong>
          <span data-lang-key="extended_packing_text">Teraz mo≈ºesz utworzyƒá i spersonalizowaƒá listƒô rzeczy do spakowania przed podr√≥≈ºƒÖ.</span>
        </li>
        <li>
          <strong data-lang-key="extended_notifications_title">Nowe powiadomienia:</strong>
          <span data-lang-key="extended_notifications_text">Mo≈ºliwo≈õƒá ustawienia powiadomie≈Ñ o zasadach obowiƒÖzujƒÖcych w danym dniu oraz przypomnie≈Ñ o wa≈ºnych dokumentach.</span>
        </li>
        <li>
          <strong data-lang-key="extended_docs_title">Powiadomienia o wygasajƒÖcych dokumentach:</strong>
          <span data-lang-key="extended_docs_text">Dodano opcjƒô otrzymywania powiadomie≈Ñ na miesiƒÖc przed wyga≈õniƒôciem wa≈ºnych dokument√≥w.</span>
        </li>
        <li>
          <strong data-lang-key="extended_personalization_title">Personalizacja aplikacji:</strong>
          <span data-lang-key="extended_personalization_text">Mo≈ºliwo≈õƒá zmiany motywu kolorystycznego, w tym trybu klasycznego, g√≥rskiego, pla≈ºowego, pustynnego i le≈õnego.</span>
        </li>
        <li>
          <strong data-lang-key="extended_improvements_title">Ulepszenia i optymalizacje:</strong>
          <ul>
            <li data-lang-key="extended_improvements_text">Naprawiono b≈Çƒôdy interfejsu, ulepszono zarzƒÖdzanie powiadomieniami oraz wy≈õwietlanie reklam.</li>
          </ul>
        </li>
      </ul>
    </div>
  </section>

  <!-- SEKCJA ZRZUT√ìW EKRANU -->
  <section class="section">
    <h2 data-lang-key="screenshots_title2">Zobacz, jak to wyglƒÖda</h2>
    <div class="screenshots">
      <img src="images/v2/rule.PNG" alt="Nowy widok zasady" width="300" height="650" loading="lazy">
      <img src="images/v2/saverule.PNG" alt="Zapisywanie zasady" width="300" height="650" loading="lazy">
      <img src="images/v2/achievements.PNG" alt="System osiƒÖgniƒôƒá" width="300" height="650" loading="lazy">
      <img src="images/v2/packinglistnew.PNG" alt="Nowa lista pakowania" width="300" height="650" loading="lazy">
      <img src="images/v2/sharelist.PNG" alt="Udostƒôpnianie listy" width="300" height="650" loading="lazy">
      <img src="images/v2/locallist.PNG" alt="Lista lokalizacji" width="300" height="650" loading="lazy">
      <img src="images/v2/localespania.PNG" alt="Lokalizacje: Hiszpania" width="300" height="650" loading="lazy">
      <img src="images/v2/localfrance.PNG" alt="Lokalizacje: Francja" width="300" height="650" loading="lazy">
      <img src="images/v2/localgermany.PNG" alt="Lokalizacje: Niemcy" width="300" height="650" loading="lazy">
    </div>
  </section>

  <!-- PRICING (‚úÖ watermark mapa) -->
  <section id="pricing" class="section map-watermark">
    <img class="decor-map" src="images/decor/world-map.png" alt="" aria-hidden="true" loading="lazy">
    <h2>Free vs Premium</h2>
    <p style="color:var(--color-text-secondary)">Aplikacja jest darmowa. Opcjonalne Premium odblokowuje wiƒôcej tre≈õci i usuwa reklamy.</p>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:20px;text-align:left">
      <div style="background:var(--color-card-background);padding:24px;border-radius:12px;box-shadow:0 10px 20px var(--color-card-shadow)">
        <h3 style="margin:0 0 10px">Free</h3>
        <ul style="margin:0;padding-left:18px;color:var(--color-text-secondary)">
          <li>Codzienna zasada</li>
          <li>Lista rzeczy do spakowania</li>
          <li>Zapisy lokalizacji</li>
          <li>Reklamy kontekstowe</li>
        </ul>
      </div>
      <div style="background:var(--color-card-background);padding:24px;border-radius:12px;box-shadow:0 10px 20px var(--color-card-shadow)">
        <h3 style="margin:0 0 10px">Premium</h3>
        <ul style="margin:0;padding-left:18px;color:var(--color-text-secondary)">
          <li>Bez reklam</li>
          <li>Pe≈Çny dostƒôp do zasad</li>
          <li>Zaawansowane checklisty</li>
          <li>Wczesny dostƒôp do nowych funkcji</li>
        </ul>
        <div style="margin-top:12px">
          <a href="#cta" style="text-decoration:none;background:var(--color-primary);color:#fff;padding:10px 16px;border-radius:8px;display:inline-block">Odblokuj w aplikacji</a>
        </div>
      </div>
    </div>
  </section>



  <!-- CTA -->
  <section id="cta" class="cta">
    <h2 data-lang-key="cta_title">Zacznij organizowaƒá swoje podr√≥≈ºe ju≈º teraz!</h2>
    <p data-lang-key="cta_text">Pobierz Travel Rules na swoje urzƒÖdzenie iOS. Aplikacja dostƒôpna wy≈ÇƒÖcznie na iOS ‚Äì poczuj r√≥≈ºnicƒô dziƒôki intuicyjnemu interfejsowi i zaawansowanym funkcjom.</p>
    <div class="download-link" style="display: inline-block; text-align: center;">
      <a href="https://apps.apple.com/pl/app/travel-rules/id6451070215?l=pl" aria-label="Pobierz w App Store" style="display:inline-block;margin-top:10px;">
        <img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/pl-pl?size=200x66&releaseDate=1684790400" alt="Pobierz w App Store" width="200" height="66">
      </a>
    </div>
  </section>

  <!-- KONTAKT -->
  <section id="contact" class="section">
    <h2 data-lang-key="contact_title">Kontakt</h2>
    <form id="contactForm" action="https://formspree.io/f/myzeeraq" method="POST" novalidate style="max-width: 600px; margin: 0 auto; text-align: left;">
      <p id="formStatus" aria-live="polite" style="margin-top:10px;color:var(--color-text-secondary)"></p>
      <label data-lang-key="contact_name" for="name">Imiƒô:</label><br>
      <input type="text" id="name" name="name" required style="width: 100%; padding: 10px; margin-bottom: 10px;"><br>
      <label data-lang-key="contact_email" for="email">Email:</label><br>
      <input type="email" id="email" name="email" required style="width: 100%; padding: 10px; margin-bottom: 10px;"><br>
      <label data-lang-key="contact_message" for="message">Wiadomo≈õƒá:</label><br>
      <textarea id="message" name="message" required style="width: 100%; padding: 10px; margin-bottom: 10px;"></textarea><br>
      <input type="text" name="website" style="display:none">
      <button type="submit" style="background-color: var(--color-primary); color: #fff; padding: 10px 20px; border: none; border-radius: 5px;">Wy≈õlij</button>
    </form>
  </section>

  <!-- STOPKA -->
  <footer>
    <p>¬© 2025 Travel Rules. Wszelkie prawa zastrze≈ºone.</p>
    <p class="small">
      <a href="polityka-prywatnosci.html">Polityka Prywatno≈õci</a> ‚Ä¢
      <a href="warunki-korzystania.html">Warunki korzystania</a>
    </p>
  </footer>

  <!-- SKRYPT JS -->
  <script>
    // MENU TOGGLE
    const menuToggle = document.getElementById('menuToggle');
    const navUl = document.getElementById('primaryNav');
    menuToggle.addEventListener('click', () => {
      const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
      menuToggle.setAttribute('aria-expanded', String(!expanded));
      navUl.classList.toggle('show-menu');
    });

    // PRZE≈ÅƒÑCZANIE MOTYW√ìW, DARK MODE I JƒòZYKA Z PERSISTENCJƒÑ
    const themeSelect = document.getElementById('themeSelect');
    const body = document.querySelector('body');

    // Load saved prefs
    const savedTheme = localStorage.getItem('tr_theme');
    const savedDark = localStorage.getItem('tr_dark') === '1';
    const savedLang = localStorage.getItem('tr_lang');

    if (savedTheme) {
      body.classList.remove('theme-classic','theme-mountain','theme-beach','theme-desert','theme-forest');
      body.classList.add(`theme-${savedTheme}`);
      if (themeSelect) themeSelect.value = savedTheme;
    }

    if (savedDark) {
      body.classList.add('dark-mode');
      const dm = document.getElementById('darkModeToggle');
      if (dm) dm.checked = true;
    }

    if (savedLang && ['pl','en','es'].includes(savedLang)) {
      setLanguage(savedLang);
    }

    if (themeSelect) {
      themeSelect.addEventListener('change', (event) => {
        const themeName = event.target.value; // classic, mountain, beach, desert, forest
        body.classList.remove('theme-classic','theme-mountain','theme-beach','theme-desert','theme-forest');
        body.classList.add(`theme-${themeName}`);
        localStorage.setItem('tr_theme', themeName);
      });
    }

    // Ikony motyw√≥w (mobil)
    const themeIcons = document.querySelectorAll('.theme-icons img');
    themeIcons.forEach(icon => {
      icon.addEventListener('click', () => {
        const themeName = icon.getAttribute('data-theme');
        body.classList.remove('theme-classic','theme-mountain','theme-beach','theme-desert','theme-forest');
        body.classList.add(`theme-${themeName}`);
        if (themeSelect) themeSelect.value = themeName;
        localStorage.setItem('tr_theme', themeName);
      });
    });

    // PRZE≈ÅƒÑCZNIK CIEMNY/JASNY Z PERSISTENCJƒÑ
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('change', (event) => {
      if (event.target.checked) {
        body.classList.add('dark-mode');
        localStorage.setItem('tr_dark','1');
      } else {
        body.classList.remove('dark-mode');
        localStorage.removeItem('tr_dark');
      }
    });

    // Efekt przewijania: dodanie klasy "in-view" do .feature-box
    const featureBoxes = document.querySelectorAll('.feature-box');
    const observerOptions = { threshold: 0.3 };
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting) {
          entry.target.classList.add('in-view');
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);
    featureBoxes.forEach(box => observer.observe(box));

    // Obs≈Çuga jƒôzyka
    const languageSelect = document.getElementById('languageSelect');
    const langFlags = document.querySelectorAll('.flag-emoji');
    langFlags.forEach(flag => {
      flag.addEventListener('click', () => {
        const lang = flag.getAttribute('data-lang');
        setLanguage(lang);
        localStorage.setItem('tr_lang', lang);
      });
    });

    // Ikonki/emotikony do motywu (opcjonalnie)
    const themeEmojis = document.querySelectorAll('.theme-emoji');
    themeEmojis.forEach(emoji => {
      emoji.addEventListener('click', () => {
        const themeName = emoji.getAttribute('data-theme');
        body.classList.remove('theme-classic', 'theme-mountain', 'theme-beach', 'theme-desert', 'theme-forest');
        body.classList.add(`theme-${themeName}`);
      });
    });

    const translations = {
      pl: {
        logo: "Travel Rules",
        about: "O Aplikacji",
        features: "Funkcje",
        updates: "Aktualno≈õci",
        links: "Linki",
        download: "Pobierz",
        contact: "Kontakt",
        hero_title: "Travel Rules",
        hero_subtitle: "Twoje codzienne ≈∫r√≥d≈Ço inspiracji i praktycznych wskaz√≥wek.",
        learn_more: "Dowiedz siƒô wiƒôcej",
        about_title: "Travel Rules",
        about_text: "Aplikacja, dziƒôki kt√≥rej odkryjesz uroki vanlife w zupe≈Çnie nowy spos√≥b. Codzienne zasady, checklista podr√≥≈ºna, spo≈Çeczno≈õƒá i wiele wiƒôcej ‚Äì wszystko w eleganckim, minimalistycznym wydaniu.",
        screenshots_title: "Zobacz, jak to wyglƒÖda",
        screenshots_title2: "Zobacz, jak to wyglƒÖda",
        updates_title: "Aktualno≈õci",
        extended_title: "Rozszerzone Funkcje",
        extended_loc_title: "Zapisywanie lokalizacji",
        extended_loc_text: "Mo≈ºna teraz zapisywaƒá i ≈Çatwo znajdowaƒá zapisane lokalizacje na mapie. Mo≈ºliwo≈õƒá otwierania lokalizacji w Mapach Google i Mapach Apple.",
        extended_rules_title: "Nowe zasady podr√≥≈ºy",
        extended_rules_text: "Dodano wiƒôcej zasad i poprawiono ich organizacjƒô, aby by≈Çy jeszcze bardziej przydatne.",
        extended_achievements_title: "System osiƒÖgniƒôƒá",
        extended_achievements_text: "Mo≈ºesz teraz zbieraƒá osiƒÖgniƒôcia za korzystanie z aplikacji, takie jak ‚ÄûRegularny podr√≥≈ºnik‚Äù i ‚ÄûMistrz konsekwencji‚Äù.",
        extended_emergency_title: "Numery alarmowe dla r√≥≈ºnych kraj√≥w",
        extended_emergency_text: "Aplikacja automatycznie rozpoznaje kraj i wy≈õwietla odpowiednie numery alarmowe oraz przydatne linki.",
        extended_packing_title: "Lista rzeczy do spakowania",
        extended_packing_text: "Teraz mo≈ºesz utworzyƒá i spersonalizowaƒá listƒô rzeczy do spakowania przed podr√≥≈ºƒÖ.",
        extended_notifications_title: "Nowe powiadomienia",
        extended_notifications_text: "Mo≈ºliwo≈õƒá ustawienia powiadomie≈Ñ o zasadach obowiƒÖzujƒÖcych w danym dniu oraz przypomnie≈Ñ o wa≈ºnych dokumentach.",
        extended_docs_title: "Powiadomienia o wygasajƒÖcych dokumentach",
        extended_docs_text: "Dodano opcjƒô otrzymywania powiadomie≈Ñ na miesiƒÖc przed wyga≈õniƒôciem wa≈ºnych dokument√≥w.",
        extended_personalization_title: "Personalizacja aplikacji",
        extended_personalization_text: "Mo≈ºliwo≈õƒá zmiany motywu kolorystycznego, w tym trybu klasycznego, g√≥rskiego, pla≈ºowego, pustynnego i le≈õnego.",
        extended_improvements_title: "Ulepszenia i optymalizacje",
        extended_improvements_text: "Naprawiono b≈Çƒôdy interfejsu, ulepszono zarzƒÖdzanie powiadomieniami oraz wy≈õwietlanie reklam.",
        cta_title: "Zacznij organizowaƒá swoje podr√≥≈ºe ju≈º teraz!",
        cta_text: "Pobierz Travel Rules na swoje urzƒÖdzenie iOS. Aplikacja dostƒôpna wy≈ÇƒÖcznie na iOS ‚Äì poczuj r√≥≈ºnicƒô dziƒôki intuicyjnemu interfejsowi i zaawansowanym funkcjom.",
        contact_title: "Kontakt",
        contact_name: "Imiƒô:",
        contact_email: "Email:",
        contact_message: "Wiadomo≈õƒá:",
        dark_mode: "Tryb ciemny"
      },
      en: {
        logo: "Travel Rules",
        about: "About",
        features: "Features",
        updates: "Updates",
        links: "Links",
        download: "Download",
        contact: "Contact",
        hero_title: "Travel Rules",
        hero_subtitle: "Your daily source of inspiration and practical tips.",
        learn_more: "Learn More",
        about_title: "Travel Rules",
        about_text: "An app that lets you discover the charm of vanlife in a completely new way. Daily rules, travel checklist, community and much more ‚Äì all in an elegant, minimalist design.",
        screenshots_title: "See How It Looks",
        screenshots_title2: "See How It Looks",
        updates_title: "Updates",
        extended_title: "Extended Features",
        extended_loc_title: "Location Saving",
        extended_loc_text: "You can now save locations and easily find them on the map. You can open saved locations in Google Maps and Apple Maps.",
        extended_rules_title: "New Travel Rules",
        extended_rules_text: "More rules have been added and organized to be even more useful.",
        extended_achievements_title: "Achievement System",
        extended_achievements_text: "Earn achievements for using the app, such as 'Regular Traveler' and 'Consistency Master'.",
        extended_emergency_title: "Emergency Numbers for Different Countries",
        extended_emergency_text: "The app automatically detects your country and displays the appropriate emergency numbers along with useful links.",
        extended_packing_title: "Packing List",
        extended_packing_text: "Now you can create and personalize a packing list before your trip.",
        extended_notifications_title: "New Notifications",
        extended_notifications_text: "Set notifications for daily rules and reminders for important documents.",
        extended_docs_title: "Expiring Documents Notifications",
        extended_docs_text: "A new option to receive notifications one month before important documents expire has been added.",
        extended_personalization_title: "App Personalization",
        extended_personalization_text: "Change the color theme with options including classic, mountain, beach, desert, and forest.",
        extended_improvements_title: "Improvements and Optimizations",
        extended_improvements_text: "Interface bugs have been fixed, notification management enhanced, and ads now appear in more natural, less intrusive locations.",
        cta_title: "Start Organizing Your Travels Now!",
        cta_text: "Download Travel Rules for iOS. Available exclusively on iOS ‚Äì experience the difference with our intuitive interface and advanced features.",
        contact_title: "Contact",
        contact_name: "Name:",
        contact_email: "Email:",
        contact_message: "Message:",
        dark_mode: "Dark mode"
      },
      es: {
        logo: "Travel Rules",
        about: "Acerca de",
        features: "Funciones",
        updates: "Actualizaciones",
        links: "Enlaces",
        download: "Descargar",
        contact: "Contacto",
        hero_title: "Travel Rules",
        hero_subtitle: "Tu fuente diaria de inspiraci√≥n y consejos pr√°cticos.",
        learn_more: "Saber m√°s",
        about_title: "Travel Rules",
        about_text: "Una aplicaci√≥n que te permite descubrir el encanto del van-life de una manera totalmente nueva. Reglas diarias, lista de viaje, comunidad y mucho m√°s, todo con un dise√±o elegante y minimalista.",
        screenshots_title: "Mira c√≥mo se ve",
        screenshots_title2: "Mira c√≥mo se ve",
        updates_title: "Actualizaciones",
        extended_title: "Funciones Avanzadas",
        extended_loc_title: "Guardar Ubicaciones",
        extended_loc_text: "Ahora puedes guardar ubicaciones y encontrarlas f√°cilmente en el mapa. √Åbrelas en Google Maps o Apple Maps.",
        extended_rules_title: "Nuevas Reglas de Viaje",
        extended_rules_text: "Se a√±adieron m√°s reglas y se organizaron para que sean a√∫n m√°s √∫tiles.",
        extended_achievements_title: "Sistema de Logros",
        extended_achievements_text: "Consigue logros por usar la app, como ¬´Viajero Frecuente¬ª o ¬´Maestro de la Constancia¬ª.",
        extended_emergency_title: "N√∫meros de Emergencia Internacionales",
        extended_emergency_text: "La app detecta tu pa√≠s y muestra los n√∫meros de emergencia y enlaces √∫tiles correspondientes.",
        extended_packing_title: "Lista de Empaque",
        extended_packing_text: "Crea y personaliza tu lista de empaque antes de viajar.",
        extended_notifications_title: "Nuevas Notificaciones",
        extended_notifications_text: "Configura recordatorios diarios de reglas y alertas para documentos importantes.",
        extended_docs_title: "Alertas de Documentos por Caducar",
        extended_docs_text: "Recibe avisos un mes antes de que caduquen documentos importantes.",
        extended_personalization_title: "Personalizaci√≥n de la App",
        extended_personalization_text: "Cambia el tema de color: cl√°sico, monta√±a, playa, desierto o bosque.",
        extended_improvements_title: "Mejoras y Optimizaci√≥n",
        extended_improvements_text: "Errores solucionados, notificaciones mejoradas y anuncios menos intrusivos.",
        cta_title: "¬°Empieza a organizar tus viajes ahora!",
        cta_text: "Descarga Travel Rules para iOS. Disponible exclusivamente en iOS: disfruta de una interfaz intuitiva y funciones avanzadas.",
        contact_title: "Contacto",
        contact_name: "Nombre:",
        contact_email: "Correo:",
        contact_message: "Mensaje:",
        dark_mode: "Modo oscuro"
      }
    };

    function setLanguage(lang) {
      document.documentElement.lang = lang;
      document.querySelectorAll('[data-lang-key]').forEach(el => {
        const key = el.getAttribute('data-lang-key');
        if(translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
    }

    // Prefer saved language, then browser
    const initialLang = localStorage.getItem('tr_lang') || navigator.language.slice(0,2);
    if (['pl','en','es'].includes(initialLang)) {
      setLanguage(initialLang);
      if (languageSelect) languageSelect.value = initialLang;
    } else {
      setLanguage('pl');
      if (languageSelect) languageSelect.value = 'pl';
    }
    if (languageSelect) {
      languageSelect.addEventListener('change', (e) => {
        setLanguage(e.target.value);
        localStorage.setItem('tr_lang', e.target.value);
      });
    }

    /* ‚úÖ Rozwijany kontener (guard, ≈ºeby nie wywala≈Ço JS gdy elementy sƒÖ zakomentowane) */
    const collapsibleHeader = document.getElementById('collapsibleHeader');
    const collapsibleContent = document.getElementById('collapsibleContent');
    if (collapsibleHeader && collapsibleContent) {
      function toggleCollapsible() {
        const isOpen = collapsibleContent.classList.toggle('show');
        collapsibleHeader.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      }
      collapsibleHeader.addEventListener('click', toggleCollapsible);
      collapsibleHeader.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          toggleCollapsible();
        }
      });
    }

    /* === App Store release notes (JSONP, bez CORS) === */
    (function loadAppStoreReleaseNotes() {
      var APP_ID = '6451070215';
      var COUNTRY = (document.documentElement.lang || 'pl').slice(0,2);
      var target = document.getElementById('appstore-updates');
      if (!target) return;

      var handled = false;
      var cbName = 'appStoreCB_' + Date.now();
      var timeoutId;

      function showFallback(msg){
        target.innerHTML = '<p>' + msg + '</p>' +
          '<p style="margin-top:8px"><a href="https://apps.apple.com/' + COUNTRY + '/app/travel-rules/id6451070215" target="_blank" rel="noopener">Zobacz w App Store</a></p>';
      }

      window[cbName] = function (data) {
        handled = true;
        try {
          if (!data || !data.results || !data.results.length) {
            showFallback('Brak danych z App Store.');
            return;
          }
          var app = data.results[0];
          var ver = app.version || '‚Äî';
          var relNotes = (app.releaseNotes || '').replace(/\n/g, '<br>');
          var date = app.currentVersionReleaseDate ? new Date(app.currentVersionReleaseDate) : null;
          var datePL = date ? date.toLocaleDateString('pl-PL', { year: 'numeric', month: 'long', day: 'numeric' }) : '‚Äî';
          var link = app.trackViewUrl || 'https://apps.apple.com/' + COUNTRY + '/app/travel-rules/id' + APP_ID;

          target.innerHTML = `
            <h3 style="margin-top:0">Co nowego w wersji ${ver}</h3>
            <p class="small" style="margin:4px 0 12px; opacity:.8">Data wydania: ${datePL}</p>
            <div class="card" style="margin:0;">
              ${relNotes || 'Brak opisu zmian.'}
            </div>
            <p style="margin-top:12px;">
              <a href="${link}" target="_blank" rel="noopener">Zobacz w App Store</a>
            </p>
          `;
        } catch(e) {
          showFallback('Nie uda≈Ço siƒô wczytaƒá danych z App Store.');
        } finally {
          cleanup();
        }
      };

      function cleanup(){
        clearTimeout(timeoutId);
        try { delete window[cbName]; } catch(_) {}
        if (script && script.parentNode) script.parentNode.removeChild(script);
      }

      // timeout na wypadek blokady requestu przez przeglƒÖdarkƒô/adblock
      timeoutId = setTimeout(function(){
        if (!handled) {
          showFallback('Nie mo≈ºna po≈ÇƒÖczyƒá z App Store (sprawd≈∫ sieƒá lub blokady).');
          cleanup();
        }
      }, 6000);

      var script = document.createElement('script');
      script.src = `https://itunes.apple.com/lookup?id=${APP_ID}&country=${COUNTRY}&callback=${cbName}`;
      script.onerror = function(){ handled = true; showFallback('Nie uda≈Ço siƒô po≈ÇƒÖczyƒá z App Store.'); cleanup(); };
      document.body.appendChild(script);
    })();

    // AJAX submit for contact form
    const contactForm = document.getElementById('contactForm');
    if (contactForm) {
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const status = document.getElementById('formStatus'); 
        status.textContent = 'Wysy≈Çanie...';
        const data = new FormData(contactForm);
        // honeypot
        if (data.get('website')) { status.textContent = 'Dziƒôkujemy!'; contactForm.reset(); return; }
        try {
          const res = await fetch(contactForm.action, { method: 'POST', body: data, headers: { 'Accept': 'application/json' } });
          if (res.ok) { status.textContent = 'Dziƒôkujemy! Wiadomo≈õƒá zosta≈Ça wys≈Çana.'; contactForm.reset(); }
          else { status.textContent = 'Ups, nie uda≈Ço siƒô wys≈Çaƒá. Spr√≥buj ponownie.'; }
        } catch(_) {
          status.textContent = 'B≈ÇƒÖd sieci. Spr√≥buj ponownie p√≥≈∫niej.';
        }
      });
    }
  </script>
</body>
</html>